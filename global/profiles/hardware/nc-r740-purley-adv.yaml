---
schema: 'drydock/HardwareProfile/v1'
metadata:
 schema: 'metadata/Document/v1'
 name: dell_r740_purley_adv_nc
 storagePolicy: 'cleartext'
 labels:
   hardwaretype: dell_r740_purley_adv_nc
 layeringDefinition:
   abstract: false
   layer: global
data:
 vendor: 'Dell'
 # Data in this block is probably inaccurate, but also
 # not yet used
 generation: '10'
 hw_version: '3'
 bios_version: '2.3.3'
 boot_mode: bios
 bootstrap_protocol: pxe
 pxe_interface: 4
 # End inaccurate data block
 device_aliases:
   pxe_nic01:
     # eno4
     address: '0000:01:00.1'
     dev_type: 'Gig NIC'
     bus_type: 'pci'
   dp_nic01:
     # enp94s0f0
     address: '0000:5e:00.0'
     dev_type: 'Intel XXV710 NIC'
     bus_type: 'pci'
   gp_nic01:
     # enp94s0f1
     address: '0000:5e:00.1'
     dev_type: 'Intel XXV710 NIC'
     bus_type: 'pci'
   dp_nic02:
      # enp135s0f1
     address: '0000:87:00.1'
     dev_type: 'Intel XXV710 NIC'
     bus_type: 'pci'
   gp_nic02:
     # enp135s0f0
     address: '0000:87:00.0'
     dev_type: 'Intel XXV710 NIC'
     bus_type: 'pci'
   # Disk layout per https://wiki.web.labs.att.com/display/NCID/904-03-04%3A+Compute+Host+Storage+Ephemeral+Design
   bootdisk:
     # /dev/sda
     address: '0:2.0.0'
     dev_type: 'Internal RAID-1 SSDs'
     bus_type: 'scsi'
   ephemeral:
     # /dev/sdj
     address: '0:2.9.0'
     dev_type: 'Internal RAID-1 SSDs'
     bus_type: 'scsi'
 cpu_sets:
   # CPUS pinned to nova
   # Host OS CPUs are inferred, and will be the remaining cores
   isolcpus: '4-43,48-87'
   # Kernel config
   # Reduce OS jitter on the offloaded CPUs.
   rcu_nocbs: '4-43,48-87'
   # Nova config
   # CPUs dedicated to tenant workload.
   vcpu_pin_set: '8-43,52-87'
   # OVS config
   # CPUs used by OVS-DPDK processes, same as CPUs used by host OS.
   # VCPUs 0,44,1,45,2,46,3,47 = first 4 CPU cores
   dpdk-lcore-mask: '0xF0000000000F'
   # OVS config
   # CPUs used by dpdk Poll Mode Drivers (PMD)
   # OVS configu paramter for DPDK.
   # VCPUs 4,48,5,49,6,50,7,51 = CPU cores 4-7
   pmd-cpu-mask: '0x0F0000000000F0'
 hugepages:
   dpdk:
     size: '1G'
     # This value only applicable to dp profile
     count: 320
...
